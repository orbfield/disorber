{"version":3,"file":"static/js/161.60509684.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/panels-top-left.ts","components/gallery/index.jsx","config/imageResolutions.js","Pages/DynamicGallery.jsx","components/window/hooks/useWindowPosition.jsx","components/window/index.jsx","components/window/wrapper/DndKit.jsx","components/window/wrapper/index.jsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name PanelsTopLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjMiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Ik0zIDloMTgiIC8+CiAgPHBhdGggZD0iTTkgMjFWOSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/panels-top-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst PanelsTopLeft = createLucideIcon('PanelsTopLeft', [\n  ['rect', { width: '18', height: '18', x: '3', y: '3', rx: '2', key: 'afitv7' }],\n  ['path', { d: 'M3 9h18', key: '1pudct' }],\n  ['path', { d: 'M9 21V9', key: '1oto5p' }],\n]);\n\nexport default PanelsTopLeft;\n","import React, { useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { Layout, Folder } from 'lucide-react';\r\nimport PropTypes from 'prop-types';\r\nimport { useWindowContext } from '../window/index';\r\nimport { WindowWrapper } from '../window/wrapper/index';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n/**\r\n * @typedef {Object} GalleryImage\r\n * @property {string} thumb - URL of the thumbnail image\r\n * @property {string} full - URL of the full-size image\r\n * @property {string} [alt] - Alternative text for the image\r\n * @property {boolean} [isDirectory] - Whether this image represents a directory\r\n * @property {string} [directoryId] - ID of the directory if this is a directory preview\r\n * @property {Array} [thumbnails] - Array of thumbnail images for directory previews\r\n */\r\n\r\n/**\r\n * Gallery component that displays a grid of images with popup window functionality\r\n * @param {Object} props\r\n * @param {GalleryImage[]} [props.images=[]] - Array of image objects to display\r\n * @returns {JSX.Element} Gallery component\r\n */\r\nexport function Gallery({ images = [] }) {\r\n  const { registerWindow, toggleWindowVisibility, windows } = useWindowContext();\r\n  const [activeWindows, setActiveWindows] = useState(new Set());\r\n  const navigate = useNavigate();\r\n\r\n  /**\r\n   * Handles opening a new window or navigating to a directory\r\n   * @param {string} id - Window identifier\r\n   * @param {Object} image - Image object with full URL and directory info\r\n   */\r\n  const handleOpenWindow = (id, image) => {\r\n    if (image.isDirectory) {\r\n      navigate(`/gallery/${image.directoryId}`);\r\n      return;\r\n    }\r\n\r\n    const existingWindow = windows[id];\r\n    if (existingWindow && !existingWindow.isVisible) {\r\n      // If window exists but is hidden, just toggle visibility\r\n      toggleWindowVisibility(id);\r\n      return;\r\n    }\r\n    \r\n    if (!activeWindows.has(id)) {\r\n      const width = 400;\r\n      const height = 400;\r\n      // Position in viewport coordinates (WindowWrapper handles scaling)\r\n      const x = Math.max(0, Math.random() * (window.innerWidth - width));\r\n      const y = Math.max(0, Math.random() * (window.innerHeight - height));\r\n      \r\n      registerWindow(id, {\r\n        x, y, width, height,\r\n        onClose: () => setActiveWindows(prev => {\r\n          const next = new Set(prev);\r\n          next.delete(id);\r\n          return next;\r\n        })\r\n      });\r\n      \r\n      setActiveWindows(prev => new Set([...prev, id]));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4 container mx-auto\">\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8\">\r\n        {images.map((img, idx) => (\r\n          <ImageThumbnail\r\n            key={idx}\r\n            src={img.thumb}\r\n            alt={img.alt || ''}\r\n            isDirectory={img.isDirectory}\r\n            directoryId={img.directoryId}\r\n            thumbnails={img.thumbnails}\r\n            onClick={() => handleOpenWindow(`gallery-window-${idx}`, img)}\r\n          />\r\n        ))}\r\n      </div>\r\n      \r\n      {Array.from(activeWindows).map(id => {\r\n        const idx = parseInt(id.split('-').pop());\r\n        const img = images[idx];\r\n        // Only render window if image exists, is not a directory, and has a full image URL\r\n        return img && !img.isDirectory && img.full ? (\r\n          <GalleryWindow\r\n            key={id}\r\n            id={id}\r\n            imageUrl={img.full}\r\n            toggleVisibility={() => toggleWindowVisibility(id)}\r\n          />\r\n        ) : null;\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\n/**\r\n * Image thumbnail component with hover effects\r\n * @param {Object} props\r\n * @param {string} props.src - Source URL of the thumbnail image\r\n * @param {string} props.alt - Alternative text for the image\r\n * @param {boolean} [props.isDirectory] - Whether this thumbnail represents a directory\r\n * @param {string} [props.directoryId] - ID of the directory if this is a directory preview\r\n * @param {Array} [props.thumbnails] - Array of thumbnail images for directory previews\r\n * @param {() => void} props.onClick - Click handler for the thumbnail\r\n * @returns {JSX.Element} ImageThumbnail component\r\n */\r\nfunction ImageThumbnail({ src, alt, isDirectory, directoryId, thumbnails, onClick }) {\r\n  if (isDirectory && thumbnails) {\r\n    return (\r\n      <motion.div\r\n        className=\"relative group cursor-pointer overflow-hidden rounded-lg bg-gray-900\"\r\n        whileHover={{ scale: 1.02 }}\r\n        onClick={onClick}\r\n      >\r\n        <div className=\"aspect-square w-full\">\r\n          <div className=\"grid grid-cols-2 gap-2 p-2 h-full\">\r\n            {thumbnails.map((thumb, idx) => (\r\n              <div key={idx} className=\"aspect-square overflow-hidden\">\r\n                <img\r\n                  src={thumb.thumb}\r\n                  alt={thumb.alt}\r\n                  className=\"w-full h-full object-cover\"\r\n                />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center\">\r\n          <div className=\"flex flex-col items-center gap-2\">\r\n            <Folder className=\"w-6 h-6 text-white\" />\r\n            <span className=\"text-white text-lg font-semibold\">\r\n              {alt}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <motion.div\r\n      className=\"relative group cursor-pointer overflow-hidden rounded-lg\"\r\n      whileHover={{ scale: 1.02 }}\r\n      onClick={onClick}\r\n    >\r\n      <img\r\n        src={src}\r\n        alt={alt}\r\n        className=\"w-full h-48 object-cover transition-transform duration-200 group-hover:scale-105\"\r\n      />\r\n      <div className=\"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <span className=\"text-white text-sm\">\r\n            View Full Size\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n}\r\n\r\n/**\r\n * Gallery window component that displays a full-size image in a draggable window\r\n * @param {Object} props\r\n * @param {string} props.id - Unique identifier for the window\r\n * @param {string} props.imageUrl - URL of the full-size image\r\n * @param {() => void} props.toggleVisibility - Function to toggle window visibility\r\n * @returns {JSX.Element} GalleryWindow component\r\n */\r\nfunction GalleryWindow({ id, imageUrl, toggleVisibility }) {\r\n  /**\r\n   * Extracts the image filename from a URL\r\n   * @param {string} url - The full image URL\r\n   * @returns {string} The extracted filename or 'Image' if extraction fails\r\n   */\r\n  const getImageName = (url) => {\r\n    try {\r\n      const urlParts = url.split('/');\r\n      return decodeURIComponent(urlParts[urlParts.length - 1]);\r\n    } catch (e) {\r\n      return 'Image';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <WindowWrapper\r\n      id={id}\r\n      className=\"bg-gray-800/70 backdrop-blur-lg border border-cyan-500/20 flex-lg shadow-lg\"\r\n    >\r\n      <div \r\n        data-window-header\r\n        className=\"flex items-center py-1 px-2 border-b border-gray-700 bg-gray-900 flex-t-lg\"\r\n      >\r\n        <div className=\"flex items-center gap-2 px-2\">\r\n          <Layout className=\"w-4 h-4 text-cyan-500\" />\r\n          <h2 className=\"text-white font-semibold text-sm truncate max-w-[280px]\">{getImageName(imageUrl)}</h2>\r\n        </div>\r\n      </div>\r\n      <div className=\"h-full bg-black/10\">\r\n        <img src={imageUrl} alt=\"\" className=\"w-full h-full object-contain\" />\r\n      </div>\r\n    </WindowWrapper>\r\n  );\r\n}\r\n\r\nGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      thumb: PropTypes.string,\r\n      full: PropTypes.string,\r\n      alt: PropTypes.string,\r\n      isDirectory: PropTypes.bool,\r\n      directoryId: PropTypes.string,\r\n      thumbnails: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n          thumb: PropTypes.string.isRequired,\r\n          full: PropTypes.string.isRequired,\r\n          alt: PropTypes.string\r\n        })\r\n      )\r\n    })\r\n  )\r\n};\r\n\r\nImageThumbnail.propTypes = {\r\n  src: PropTypes.string,\r\n  alt: PropTypes.string.isRequired,\r\n  isDirectory: PropTypes.bool,\r\n  directoryId: PropTypes.string,\r\n  thumbnails: PropTypes.array,\r\n  onClick: PropTypes.func.isRequired\r\n};\r\n\r\nGalleryWindow.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  imageUrl: PropTypes.string.isRequired,\r\n  toggleVisibility: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Gallery;\r\n","/**\r\n * Standard image resolution mappings\r\n * Maps pixel sizes to descriptive categories\r\n */\r\nexport const RESOLUTIONS = {\r\n  50: 'small',   // Thumbnail size\r\n  300: 'medium', // Standard viewing size\r\n  1000: 'large'  // High resolution size\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { Gallery } from '../components/gallery';\r\nimport { WindowProvider } from '../components/window';\r\nimport { scanMediaDirectory, getMediaUrl } from '../media/mediaScanner';\r\nimport { RESOLUTIONS } from '../config/imageResolutions';\r\n\r\n/**\r\n * Extracts media files from a directory tree based on a target path\r\n * @param {Array} nodes - Directory tree nodes\r\n * @param {string} targetPath - Target path to filter files\r\n * @returns {Array} Filtered media files\r\n */\r\n/**\r\n * Finds all GIF files in a directory and its subdirectories\r\n * @param {Array} nodes - Directory tree nodes\r\n * @returns {Array} All GIF files found\r\n */\r\nconst findAllGifFiles = (nodes) => {\r\n  return nodes.flatMap(node => {\r\n    if (node.type === 'gif') return [node];\r\n    if (node.children) return findAllGifFiles(node.children);\r\n    return [];\r\n  });\r\n};\r\n\r\n/**\r\n * Checks if a directory contains subdirectories\r\n * @param {Object} node - Directory node\r\n * @returns {boolean} True if directory has subdirectories\r\n */\r\nconst hasSubdirectories = (node) => {\r\n  return node.children?.some(child => !child.type) || false;\r\n};\r\n\r\n// Configuration for gallery directory previews\r\nconst PREVIEW_CONFIG = {\r\n  thumbnailsPerDirectory: 4  // Number of thumbnails to show per directory preview\r\n};\r\n\r\n/**\r\n * Gets random 50px thumbnails from a directory's files\r\n * @param {Array} files - Array of files\r\n * @param {number} count - Number of thumbnails to return\r\n * @returns {Array} Array of random thumbnail files\r\n */\r\nconst getRandomThumbnails = (files, count) => {\r\n  const thumbnails = files.filter(file => {\r\n    const metadata = parseGifFilename(file.text);\r\n    return metadata && metadata.resolution === 50;\r\n  });\r\n\r\n  // If we don't have enough thumbnails, return all we have\r\n  if (thumbnails.length <= count) {\r\n    return thumbnails;\r\n  }\r\n\r\n  // Randomly select unique thumbnails\r\n  const selected = new Set();\r\n  const result = [];\r\n  while (result.length < count && result.length < thumbnails.length) {\r\n    const randomIndex = Math.floor(Math.random() * thumbnails.length);\r\n    const thumbnail = thumbnails[randomIndex];\r\n    if (!selected.has(thumbnail.path)) {\r\n      selected.add(thumbnail.path);\r\n      result.push(thumbnail);\r\n    }\r\n  }\r\n  return result;\r\n};\r\n\r\n/**\r\n * Extracts media files based on directory level\r\n * @param {Array} nodes - Directory tree nodes\r\n * @param {string} targetPath - Target path to filter files\r\n * @returns {Array} Filtered media files and directory previews\r\n */\r\nconst extractMediaFiles = (nodes, targetPath) => {\r\n  // For root or intermediate directories, return directory previews\r\n  if (!targetPath || hasSubdirectories(nodes.find(n => n.id === targetPath) || { children: [] })) {\r\n    return nodes\r\n      .filter(node => !node.type && node.children) // Only directories\r\n      .flatMap(dir => {\r\n        // If we're in a specific directory (not root) and it has only one subdirectory\r\n        if (targetPath && dir.children.length === 1 && !dir.children[0].type) {\r\n          const subdir = dir.children[0];\r\n          const allFiles = findAllGifFiles([subdir]);\r\n          const thumbnails = getRandomThumbnails(allFiles, PREVIEW_CONFIG.thumbnailsPerDirectory);\r\n          if (thumbnails.length === 0) return [];\r\n          \r\n          return [{\r\n            thumbnails: thumbnails.map(thumbnail => ({\r\n              thumb: getMediaUrl(thumbnail.path),\r\n              full: getMediaUrl(thumbnail.path),\r\n              alt: thumbnail.alt || `${subdir.text} preview`\r\n            })),\r\n            directoryId: `${targetPath}/${subdir.id.split('/').pop()}`,\r\n            directoryName: subdir.text,\r\n            isDirectory: true,\r\n            alt: subdir.text\r\n          }];\r\n        }\r\n        \r\n        // Otherwise process directory normally\r\n        const allFiles = findAllGifFiles([dir]);\r\n        const thumbnails = getRandomThumbnails(allFiles, PREVIEW_CONFIG.thumbnailsPerDirectory);\r\n        if (thumbnails.length === 0) return [];\r\n        \r\n        return [{\r\n          thumbnails: thumbnails.map(thumbnail => ({\r\n            thumb: getMediaUrl(thumbnail.path),\r\n            full: getMediaUrl(thumbnail.path),\r\n            alt: thumbnail.alt || `${dir.text} preview`\r\n          })),\r\n          directoryId: targetPath ? `${targetPath}/${dir.id.split('/').pop()}` : dir.id,\r\n          directoryName: dir.text,\r\n          isDirectory: true,\r\n          alt: dir.text\r\n        }];\r\n      }); // flatMap automatically removes empty arrays\r\n  }\r\n  \r\n  // For leaf directories, return all files\r\n  return nodes.flatMap(node => {\r\n    const nodeMatches = node.id === targetPath || \r\n                       (node.path && node.path.startsWith(targetPath + '/'));\r\n    \r\n    if (nodeMatches) {\r\n      if (node.type === 'gif') return [node];\r\n      if (node.children) return extractMediaFiles(node.children, targetPath);\r\n    }\r\n    \r\n    if (node.children) return extractMediaFiles(node.children, targetPath);\r\n    return [];\r\n  });\r\n};\r\n\r\n/**\r\n * Extracts metadata from a GIF filename\r\n * @param {string} filename - Format: \"name-resolution.gif\" (e.g., \"1-0.2-50.gif\")\r\n * @returns {{ baseName: string, resolution: number } | null}\r\n */\r\nconst parseGifFilename = (filename) => {\r\n  if (!filename.endsWith('.gif')) return null;\r\n  \r\n  // Remove .gif extension\r\n  const name = filename.replace('.gif', '');\r\n  \r\n  // Extract resolution (last number after last dash)\r\n  const lastDashIndex = name.lastIndexOf('-');\r\n  if (lastDashIndex === -1) return null;\r\n  \r\n  const resolution = parseInt(name.substring(lastDashIndex + 1));\r\n  const baseName = name.substring(0, lastDashIndex);\r\n  \r\n  if (isNaN(resolution)) return null;\r\n  \r\n  return {\r\n    baseName,\r\n    resolution\r\n  };\r\n};\r\n\r\n/**\r\n * Groups GIF files by base name with their resolution variants\r\n * @param {Array} files - Array of media file objects\r\n * @returns {Object} Grouped files by base name with resolution variants\r\n */\r\nconst groupFilesByVariants = (files) => {\r\n  const groups = {};\r\n\r\n  files.forEach(file => {\r\n    const metadata = parseGifFilename(file.text);\r\n    if (!metadata) {\r\n      return;\r\n    }\r\n\r\n    const { baseName, resolution } = metadata;\r\n    if (!groups[baseName]) {\r\n      groups[baseName] = { variants: {} };\r\n    }\r\n\r\n    const sizeCategory = RESOLUTIONS[resolution] || 'custom';\r\n    \r\n    groups[baseName].variants[sizeCategory] = {\r\n      path: file.path,\r\n      resolution\r\n    };\r\n  });\r\n  return groups;\r\n};\r\n\r\n/**\r\n * Creates a gallery image object from variants\r\n * @param {string} baseName - Base name of the image\r\n * @param {Object} versions - Object containing image variants\r\n * @returns {Object} Gallery-compatible image object\r\n */\r\nconst createGalleryImage = (baseName, versions) => ({\r\n  thumb: getMediaUrl(versions.variants.medium.path),\r\n  full: getMediaUrl(versions.variants.large.path),\r\n  fullRes: versions.variants.custom \r\n    ? getMediaUrl(versions.variants.custom.path)\r\n    : getMediaUrl(versions.variants.large.path),\r\n  alt: `${baseName.replace(/-/g, ' ')} animation`,\r\n  title: baseName.replace(/-/g, ' '),\r\n  resolutions: Object.fromEntries(\r\n    Object.entries(versions.variants)\r\n      .map(([size, data]) => [size, data.resolution])\r\n  )\r\n});\r\n\r\n/**\r\n * Processes media files into gallery-compatible format\r\n * @param {Array} files - Array of media file objects\r\n * @returns {Array} Processed image objects for gallery display\r\n */\r\nconst processMediaFiles = (files) => {\r\n  // Handle directory previews\r\n  const directoryPreviews = files.filter(f => f.isDirectory);\r\n  if (directoryPreviews.length > 0) {\r\n    return directoryPreviews.map(dir => ({\r\n      thumb: dir.thumbnails[0]?.thumb, // Use first thumbnail as preview\r\n      thumbnails: dir.thumbnails,\r\n      alt: dir.alt,\r\n      isDirectory: true,\r\n      directoryId: dir.directoryId\r\n    }));\r\n  }\r\n\r\n  // Handle leaf directory files\r\n  const imageGroups = groupFilesByVariants(files);\r\n  \r\n  return Object.entries(imageGroups)\r\n    .filter(([_, versions]) => \r\n      versions.variants.medium && versions.variants.large // Ensure both 300px and 1000px exist\r\n    )\r\n    .map(([baseName, versions]) => createGalleryImage(baseName, versions));\r\n};\r\n\r\n/**\r\n * Dynamic Gallery Page Component\r\n * Displays a gallery of images based on the current URL path\r\n */\r\nconst DynamicGalleryPage = () => {\r\n  const { '*': pathParam = '' } = useParams();\r\n  // Remove 'root' and any leading/trailing slashes\r\n  const fullPath = pathParam\r\n    .replace(/^root\\/?/, '')  // Remove 'root/' prefix if present\r\n    .replace(/^\\/+|\\/+$/g, ''); // Remove leading/trailing slashes\r\n  const [images, setImages] = useState([]);\r\n \r\n  useEffect(() => {\r\n    const loadImages = async () => {\r\n      try {\r\n        const tree = await scanMediaDirectory();\r\n        const mediaFiles = extractMediaFiles(tree, fullPath);\r\n        const processedImages = processMediaFiles(mediaFiles);\r\n        setImages(processedImages);\r\n      } catch (error) {\r\n        console.error('Failed to load gallery images:', error);\r\n        setImages([]);\r\n      }\r\n    };\r\n   \r\n    loadImages();\r\n  }, [fullPath]);\r\n\r\n  return (\r\n    <WindowProvider>\r\n      <div className=\"flex flex-col items-center gap-4\">\r\n        <Gallery images={images} />\r\n      </div>\r\n    </WindowProvider>\r\n  );\r\n};\r\n\r\nexport default DynamicGalleryPage;\r\n","import { useEffect } from 'react';\r\nimport { useSidebar } from '../../layout/SidebarContext';\r\nimport { useWindowContext } from '../index';\r\n\r\nconst SIDEBAR_WIDTH = 240; // Standard sidebar width in pixels\r\n\r\nexport const useWindowPosition = (windowId, defaultPosition) => {\r\n  const { isSidebarCollapsed } = useSidebar();\r\n  const { windows, registerWindow, updateWindowPosition } = useWindowContext();\r\n\r\n  useEffect(() => {\r\n    // Register window with initial position if not already registered\r\n    if (!windows[windowId]) {\r\n      registerWindow(windowId, defaultPosition);\r\n    }\r\n  }, [windowId, defaultPosition, registerWindow, windows]);\r\n\r\n  useEffect(() => {\r\n    const currentWindow = windows[windowId];\r\n    if (!currentWindow) return;\r\n\r\n    // Calculate the difference in sidebar width\r\n    const previousOffset = isSidebarCollapsed ? 0 : SIDEBAR_WIDTH;\r\n    const newOffset = isSidebarCollapsed ? -SIDEBAR_WIDTH : 0;\r\n    const offsetDiff = newOffset - previousOffset;\r\n\r\n    // Update position relative to current position, not initial position\r\n    const newPosition = {\r\n      x: currentWindow.position.x + offsetDiff,\r\n      y: currentWindow.position.y\r\n    };\r\n\r\n    updateWindowPosition(windowId, newPosition);\r\n  }, [isSidebarCollapsed, windowId, windows, updateWindowPosition]);\r\n\r\n  return {\r\n    position: windows[windowId]?.position || defaultPosition,\r\n    isVisible: windows[windowId]?.isVisible ?? true,\r\n    zIndex: windows[windowId]?.zIndex ?? 1\r\n  };\r\n};\r\n","import React, { createContext, useContext, useState, useCallback } from 'react';\r\n\r\nconst WindowContext = createContext();\r\n\r\n// Re-export the hook for easier imports\r\nexport * from './hooks/useWindowPosition';\r\n\r\nexport const useWindowContext = () => {\r\n  const context = useContext(WindowContext);\r\n  if (!context) {\r\n    throw new Error('useWindowContext must be used within a WindowProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const WindowProvider = ({ children }) => {\r\n  const [windows, setWindows] = useState({});\r\n\r\n  const registerWindow = useCallback((id, initialPosition) => {\r\n    setWindows(prev => {\r\n      // Only register if window doesn't exist\r\n      if (prev[id]) return prev;\r\n      \r\n      return {\r\n        ...prev,\r\n        [id]: {\r\n          position: initialPosition,\r\n          initialPosition,\r\n          isVisible: true,\r\n          zIndex: Object.keys(prev).length + 1\r\n        }\r\n      };\r\n    });\r\n  }, []);\r\n\r\n  const updateWindowPosition = useCallback((id, position) => {\r\n    setWindows(prev => ({\r\n      ...prev,\r\n      [id]: {\r\n        ...prev[id],\r\n        position\r\n      }\r\n    }));\r\n  }, []);\r\n\r\n  const toggleWindowVisibility = useCallback((id) => {\r\n    setWindows(prev => ({\r\n      ...prev,\r\n      [id]: {\r\n        ...prev[id],\r\n        isVisible: !prev[id]?.isVisible\r\n      }\r\n    }));\r\n  }, []);\r\n\r\n  const bringToFront = useCallback((id) => {\r\n    setWindows(prev => {\r\n      const maxZ = Math.max(...Object.values(prev).map(w => w.zIndex));\r\n      return {\r\n        ...prev,\r\n        [id]: {\r\n          ...prev[id],\r\n          zIndex: maxZ + 1\r\n        }\r\n      };\r\n    });\r\n  }, []);\r\n\r\n  const value = {\r\n    windows,\r\n    registerWindow,\r\n    updateWindowPosition,\r\n    toggleWindowVisibility,\r\n    bringToFront\r\n  };\r\n\r\n  return (\r\n    <WindowContext.Provider value={value}>\r\n      {children}\r\n    </WindowContext.Provider>\r\n  );\r\n};\r\n","import { DndContext, useDraggable, defaultCoordinates } from '@dnd-kit/core';\r\nimport { useZoom } from '../../canvas/ZoomContext';\r\n\r\n/**\r\n * Custom hook that provides drag functionality using dnd-kit\r\n */\r\nexport const useScaledDrag = ({ id, position }) => {\r\n  const { scale } = useZoom();\r\n  \r\n  return useDraggable({\r\n    id,\r\n    data: { position }\r\n  });\r\n};\r\n\r\n/**\r\n * DragProvider component that provides DnD context with scaling support\r\n */\r\nexport const DragProvider = ({ children, onDragEnd }) => {\r\n  const { scale } = useZoom();\r\n\r\n  return (\r\n    <DndContext \r\n      onDragEnd={onDragEnd}\r\n      modifiers={[\r\n        ({ transform }) => ({\r\n          ...transform,\r\n          x: transform.x / scale,\r\n          y: transform.y / scale,\r\n        })\r\n      ]}\r\n    >\r\n      {children}\r\n    </DndContext>\r\n  );\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport { useWindowContext } from '../index.jsx';\r\nimport { useZoom } from '../../canvas/ZoomContext';\r\nimport { useScaledDrag, DragProvider } from './DndKit';\r\n\r\n/**\r\n * @typedef {Object} Position\r\n * @property {number} x - The x coordinate\r\n * @property {number} y - The y coordinate\r\n */\r\n\r\n/**\r\n * @typedef {Object} WindowData\r\n * @property {Position} position - Current window position\r\n * @property {boolean} isVisible - Window visibility state\r\n * @property {number} zIndex - Window stack order\r\n */\r\n\r\n/**\r\n * @typedef {Object} WindowProps\r\n * @property {string} id - Unique identifier for the window\r\n * @property {React.ReactNode} children - Window content including header and body\r\n * @property {Position} initialPosition - Starting position of the window\r\n * @property {string} [className] - Additional CSS classes\r\n * @property {Object} [dragConstraints] - Constraints for dragging behavior\r\n */\r\n\r\n// Drag style configurations\r\nconst DRAG_STYLES = {\r\n  dragging: 'cursor-move',\r\n  idle: 'cursor-move',\r\n  base: 'absolute window-draggable'\r\n};\r\n\r\n/**\r\n * Splits children into header and content components\r\n * @param {React.ReactNode} children - Child components to split\r\n * @returns {[React.ReactElement, React.ReactElement[]]} Tuple of [header, content]\r\n */\r\nconst splitWindowChildren = (children) => {\r\n  const childArray = React.Children.toArray(children);\r\n  const header = childArray.find(child => child.props?.['data-window-header']);\r\n  const content = childArray.filter(child => !child.props?.['data-window-header']);\r\n  return [header, content];\r\n};\r\n\r\n/**\r\n * Internal component that handles the window content and interactions\r\n * @param {WindowProps & {\r\n *   windowData: WindowData,\r\n *   registerWindow: (id: string, position: Position) => void,\r\n *   updateWindowPosition: (id: string, position: Position) => void,\r\n *   bringToFront: (id: string) => void,\r\n *   toggleWindowVisibility: (id: string) => void\r\n * }} props\r\n */\r\nconst WindowContent = React.memo(({ \r\n  id,\r\n  children,\r\n  initialPosition,\r\n  className = '',\r\n  dragConstraints,\r\n  windowData,\r\n  registerWindow,\r\n  updateWindowPosition,\r\n  bringToFront,\r\n  toggleWindowVisibility\r\n}) => {\r\n  // Get current zoom scale\r\n  const { scale } = useZoom();\r\n\r\n  // Register window with management system on mount\r\n  useEffect(() => {\r\n    registerWindow(id, initialPosition);\r\n  }, [id, initialPosition, registerWindow]);\r\n\r\n  // Split children into header and content\r\n  const [header, content] = splitWindowChildren(children);\r\n\r\n  // Setup drag handling with scaled coordinates\r\n  const {\r\n    setNodeRef,\r\n    attributes,\r\n    listeners,\r\n    style: dragStyle,\r\n    isDragging: isDraggingDnd,\r\n    transform: dndTransform\r\n  } = useScaledDrag({\r\n    id,\r\n    position: windowData.position\r\n  });\r\n\r\n  // Bring window to front when starting drag\r\n  useEffect(() => {\r\n    if (isDraggingDnd) {\r\n      bringToFront(id);\r\n    }\r\n  }, [isDraggingDnd, bringToFront, id]);\r\n\r\n  // Compute dynamic styles\r\n  const headerClassName = `${header.props.className || ''} ${\r\n    isDraggingDnd ? DRAG_STYLES.dragging : DRAG_STYLES.idle\r\n  }`;\r\n\r\n  const basePosition = {\r\n    x: windowData.position.x,\r\n    y: windowData.position.y\r\n  };\r\n\r\n  return (\r\n    <div\r\n      ref={setNodeRef}\r\n      style={{\r\n        display: windowData.isVisible ? 'block' : 'none',\r\n        position: 'absolute',\r\n        transform: `translate3d(${basePosition.x + (dndTransform?.x || 0)}px, ${basePosition.y + (dndTransform?.y || 0)}px, 0)`,\r\n        zIndex: windowData.zIndex,\r\n        touchAction: 'none',\r\n        ...dragStyle\r\n      }}\r\n      className={`${DRAG_STYLES.base} ${className}`}\r\n      onClick={() => bringToFront(id)}\r\n    >\r\n      <div className=\"h-full\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between w-full\">\r\n          {/* Draggable title area */}\r\n          <div {...attributes} {...listeners} className={`flex-1 ${headerClassName}`}>\r\n            {header.props.children}\r\n          </div>\r\n          {/* Controls area */}\r\n          <button\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              toggleWindowVisibility(id);\r\n            }}\r\n            className=\"text-gray-400 hover:text-white transition-colors w-8 h-8 flex items-center justify-center flex-lg hover:bg-gray-700\"\r\n          >\r\n            ×\r\n          </button>\r\n        </div>\r\n        \r\n        {/* Content */}\r\n        <div className=\"pointer-events-auto\">\r\n          {content}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\n// Set display name for debugging\r\nWindowContent.displayName = 'WindowContent';\r\n\r\n/**\r\n * Window wrapper component providing window management capabilities\r\n * Handles window registration, positioning, and drag interactions\r\n * @param {WindowProps} props\r\n */\r\nexport const WindowWrapper = (props) => {\r\n  const { \r\n    windows,\r\n    registerWindow,\r\n    updateWindowPosition,\r\n    bringToFront,\r\n    toggleWindowVisibility\r\n  } = useWindowContext();\r\n\r\n  // Get window data from context\r\n  const windowData = windows[props.id];\r\n  if (!windowData) return null;\r\n\r\n  const { scale } = useZoom();\r\n\r\n  const handleDragEnd = (event) => {\r\n    if (event.delta) {\r\n      const newPosition = {\r\n        x: windowData.position.x + (event.delta.x),\r\n        y: windowData.position.y + (event.delta.y)\r\n      };\r\n      updateWindowPosition(props.id, newPosition);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <DragProvider onDragEnd={handleDragEnd}>\r\n      <WindowContent\r\n        {...props}\r\n        windowData={windowData}\r\n        registerWindow={registerWindow}\r\n        updateWindowPosition={updateWindowPosition}\r\n        bringToFront={bringToFront}\r\n        toggleWindowVisibility={toggleWindowVisibility}\r\n      />\r\n    </DragProvider>\r\n  );\r\n};\r\n"],"names":["PanelsTopLeft","createLucideIcon","width","height","x","y","rx","key","d","Gallery","_ref","images","registerWindow","toggleWindowVisibility","windows","useWindowContext","activeWindows","setActiveWindows","useState","Set","navigate","useNavigate","_jsxs","className","children","_jsx","map","img","idx","ImageThumbnail","src","thumb","alt","isDirectory","directoryId","thumbnails","onClick","handleOpenWindow","id","image","existingWindow","isVisible","has","Math","max","random","window","innerWidth","innerHeight","onClose","prev","next","delete","Array","from","parseInt","split","pop","full","GalleryWindow","imageUrl","toggleVisibility","_ref2","motion","div","whileHover","scale","Folder","_ref3","WindowWrapper","Layout","url","urlParts","decodeURIComponent","length","e","getImageName","RESOLUTIONS","findAllGifFiles","nodes","flatMap","node","type","PREVIEW_CONFIG","getRandomThumbnails","files","count","filter","file","metadata","parseGifFilename","text","resolution","selected","result","thumbnail","floor","path","add","push","extractMediaFiles","targetPath","_node$children","some","child","hasSubdirectories","find","n","dir","subdir","allFiles","getMediaUrl","directoryName","startsWith","filename","endsWith","name","replace","lastDashIndex","lastIndexOf","substring","baseName","isNaN","processMediaFiles","directoryPreviews","f","_dir$thumbnails$","imageGroups","groups","forEach","variants","sizeCategory","groupFilesByVariants","Object","entries","_","versions","medium","large","createGalleryImage","fullRes","custom","title","resolutions","fromEntries","size","data","DynamicGalleryPage","pathParam","useParams","fullPath","setImages","useEffect","async","tree","scanMediaDirectory","mediaFiles","processedImages","error","console","loadImages","WindowProvider","WindowContext","createContext","context","useContext","Error","setWindows","value","useCallback","initialPosition","position","zIndex","keys","updateWindowPosition","_prev$id","bringToFront","maxZ","values","w","Provider","DragProvider","onDragEnd","useZoom","DndContext","modifiers","transform","DRAG_STYLES","WindowContent","React","dragConstraints","windowData","header","content","childArray","toArray","_child$props","props","_child$props2","splitWindowChildren","setNodeRef","attributes","listeners","style","dragStyle","isDragging","isDraggingDnd","dndTransform","useDraggable","useScaledDrag","headerClassName","basePosition","ref","display","touchAction","stopPropagation","displayName","event","delta","newPosition"],"sourceRoot":""}